Management Message Client

1. What is it
The Management Message Client is a client application that is able to obtain information or invoke remote actions on a PTP server. It is designed to work specifically with the Precision Time Protocol daemon implementation (http://ptpd.sourceforge.net/). Management messages being used are specified in the IEEE1588-2008 specification.

2. The latest version
The latest version can be found in the "tools" directory of the PTPd's source.

3. Documentation
Documentation can be autogenerated with the use of Doxygen (and optionally LaTeX to create a pdf file). To generate documentation invoke the "doxygen" command in the main directory of the Management Message Client. The "doc" directory will be created with "html" and "latex" subdirectories. The web documentation can be viewed by opening the "index.html" file in a web browser. To generate a pdf version run "make" in the "latex" directory.

4. Installation
The Management Message Client should be compiled from the source. This procedure can be automated with the use of included Makefile. To achieve this, run the "make" command (in case of errors, try the "gmake" command instead). The "build" directory will be created with the "MgmtMsgClient" executable. To clean executables invoke the "make clean" command.

5. Use
5.1 Supported options
Run the "./MgmtMsgClient -h" command to view all of the supported options. The minimal set to try a server's connection may be "./MgmtMsgClient -a <server's_ip> -i <interface>". A NULL_MANAGEMENT management message will be send.

5.2 Management messages types and actions
To view all of the management messages specified in the IEEE1588-2008 run the "./MgmtMsgClient -m print" command. Not all of them are supported by the PTPd. An error will be shown in case of trying to handle them. 

5.3 Setting values
In case of every SET action and some COMMAND actions, a proper value should be provided. If there is only one value to be passed, use the "-v <value>" option. If there is more than one (for example when multiple bits are being set), the application will ask to provide them during runtime.

5.4 Debug
In order to print debug messages and follow communication between client and server, add the "--verbose" option to an application execution command.

5.5 Examples
5.5.1 Send a DOMAIN management message with the GET action to a server that has the 192.168.0.1 ip address via the interface named "eth1"
./MgmtMsgClient -a 192.168.0.1 -i eth1 -m DOMAIN -c GET 

5.5.2 Send a USER_DESCRIPTION management message with the SET action and the "MyUser" value to a server that has the 192.168.0.1 ip address via the interface named "eth1" and print debug messages
./MgmtMsgClient -a 192.168.0.1 -i eth1 -m USER_DESCRIPTION -c SET -v MyUser --verbose

6. Contacts
In case of any questions regarding the Management Message Client, bugs or suggestions do not hesitate contacting the author directly at <tomasz.kleinschmidt@gmail.com>.

